CREATE EXTENSION unaccent;
CREATE DOMAIN name_type AS VARCHAR(32) CHECK (LENGTH(VALUE) >= 2 AND LENGTH(VALUE) <= 32 AND VALUE ~ '^[^:0-9\s\/][^:\/]{1,31}$');
CREATE DOMAIN key_type AS VARCHAR(32) CHECK (LENGTH(VALUE) >= 2 AND LENGTH(VALUE) <= 32 AND VALUE ~ '^[^:0-9\s][^:\s]{1,31}$');
CREATE DOMAIN surname_type AS key_type CHECK (VALUE <> 'self' AND VALUE <> 'this');
CREATE DOMAIN title_type AS VARCHAR(96) CHECK (LENGTH(VALUE) >= 2 AND LENGTH(VALUE) <= 96 AND VALUE ~ '^[^\s].{1,95}$');
CREATE DOMAIN art_type AS TEXT CHECK (VALUE ~ '^RESPIRATION|KEKKIJUTSU|FIGHTING_STYLE$');
CREATE DOMAIN user_type AS TEXT CHECK (VALUE ~ 'HUMAN|ONI|HYBRID');
CREATE DOMAIN description_type AS VARCHAR(2048) CHECK (LENGTH(VALUE) >= 1 AND LENGTH(VALUE) <= 2048 AND VALUE ~ '^[^\\s]');
CREATE DOMAIN banner_type AS TEXT CHECK (VALUE ~ '^(https?://)(?:www\.)?[a-zA-Z0-9\-\.]{1,255}(?:/[a-zA-Z0-9\-\._~:\/?#\[\]@!$&''()*+,;=]{0,255})?|cdn://[0-9]{15,30}/[^:0-9\s\/]{2,32}$');
CREATE DOMAIN name_prefix_art_type AS VARCHAR(32) CHECK (LENGTH(VALUE) >= 2 AND LENGTH(VALUE) <= 32 AND VALUE ~ '^[^\s].{1,31}$');
CREATE DOMAIN attr_type AS NUMERIC(12,0) CHECK (VALUE >= 0);
CREATE DOMAIN roll_type AS NUMERIC(3,0) CHECK (VALUE >= 0);
CREATE DOMAIN discord_id_type AS VARCHAR(30) CHECK (VALUE ~ '^[0-9]{15,30}$');
CREATE DOMAIN percent_type AS SMALLINT CHECK (VALUE >= 0 AND VALUE <= 100);
CREATE DOMAIN id_type AS BIGINT;